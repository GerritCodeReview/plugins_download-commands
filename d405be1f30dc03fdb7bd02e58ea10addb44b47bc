{
  "comments": [
    {
      "key": {
        "uuid": "13650596_88be1700",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/download/command/GitDownloadCommand.java",
        "patchSetId": 1
      },
      "lineNbr": 96,
      "author": {
        "id": 1015513
      },
      "writtenOn": "2015-07-02T06:54:37Z",
      "side": 1,
      "message": "So in the \"id \u003d\u003d null\" case still \"ref\" is returned although it could not be resolved. Is this intended?",
      "range": {
        "startLine": 91,
        "startChar": 0,
        "endLine": 96,
        "endChar": 9
      },
      "revId": "d405be1f30dc03fdb7bd02e58ea10addb44b47bc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "13650596_a8c3db7c",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/download/command/GitDownloadCommand.java",
        "patchSetId": 1
      },
      "lineNbr": 96,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-07-02T07:04:25Z",
      "side": 1,
      "message": "Yes... I know, using the ref will not help much in this case, but I didn\u0027t see a better fallback. If you have a better suggestion I\u0027m happy to change it.\nAfter all \"id \u003d\u003d null\" should actually not happen.",
      "parentUuid": "13650596_88be1700",
      "range": {
        "startLine": 91,
        "startChar": 0,
        "endLine": 96,
        "endChar": 9
      },
      "revId": "d405be1f30dc03fdb7bd02e58ea10addb44b47bc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "13650596_48f01fda",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/download/command/GitDownloadCommand.java",
        "patchSetId": 1
      },
      "lineNbr": 96,
      "author": {
        "id": 1015513
      },
      "writtenOn": "2015-07-02T08:05:29Z",
      "side": 1,
      "message": "I don\u0027t know enough about the implied policies, but it would seem more appropriate to me to either throw an exception or return null (and let the caller handle it) here if \"id \u003d\u003d null\".",
      "parentUuid": "13650596_a8c3db7c",
      "range": {
        "startLine": 91,
        "startChar": 0,
        "endLine": 96,
        "endChar": 9
      },
      "revId": "d405be1f30dc03fdb7bd02e58ea10addb44b47bc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f367919d_67ed1203",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/download/command/GitDownloadCommand.java",
        "patchSetId": 1
      },
      "lineNbr": 96,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-07-02T11:07:35Z",
      "side": 1,
      "message": "If \"id \u003d\u003d null\" a placeholder may be given as ref, in this case we just want to return the placeholder as it is.\n\nBut I\u0027m now returning null below when we are hitting an IoException on lookup of the project from the cache. In this case there will be no command. The extension point doesn\u0027t allow us to throw checked exceptions and callers already handle null as return value.",
      "parentUuid": "13650596_48f01fda",
      "range": {
        "startLine": 91,
        "startChar": 0,
        "endLine": 96,
        "endChar": 9
      },
      "revId": "d405be1f30dc03fdb7bd02e58ea10addb44b47bc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f367919d_87d5a629",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/download/command/GitDownloadCommand.java",
        "patchSetId": 1
      },
      "lineNbr": 99,
      "author": {
        "id": 1012155
      },
      "writtenOn": "2015-07-02T10:26:39Z",
      "side": 1,
      "message": "For me, this exception always gets thrown.\n\nWhen entering the resolveRef method, for me\n* project is always \u0027${project}\u0027 (yes, this literal string), and\n* ref is always \u0027${ref}\u0027 (yes, this literal string).\n\n(Really exactly those strings. So I guess the String is evaluated and interpolated somewhere down the road to fill \u0027${project}\u0027 and \u0027${ref}\u0027 with the concrete project and ref.)\n\nDue to project being \u0027${project}\u0027, the repoManager correctly\nfails to open the repo, and the method bails out.",
      "revId": "d405be1f30dc03fdb7bd02e58ea10addb44b47bc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "13650596_e832332d",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/download/command/GitDownloadCommand.java",
        "patchSetId": 1
      },
      "lineNbr": 99,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-07-02T11:07:35Z",
      "side": 1,
      "message": "Ah, right. I forgot about the case where we provide placeholders for the project name and the ref. This is done in the GetServerInfo REST endpoint. In this case we just want to leave the placeholders as they are.\n\nDone.",
      "parentUuid": "f367919d_87d5a629",
      "revId": "d405be1f30dc03fdb7bd02e58ea10addb44b47bc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}